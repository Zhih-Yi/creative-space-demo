(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7f3f758"],{2909:function(e,t,r){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function n(e){if(Array.isArray(e))return i(e)}r.d(t,"a",(function(){return o}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a"),r("b0c0");function a(e,t){if(e){if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){return n(e)||c(e)||a(e)||s()}},"4de4":function(e,t,r){"use strict";var i=r("23e7"),n=r("b727").filter,c=r("1dde"),a=c("filter");i({target:"Array",proto:!0,forced:!a},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"593f":function(e,t,r){"use strict";r.r(t);r("a4d3"),r("e01a");var i=r("7a23"),n={class:"container"},c={class:"row mh-wrapper"},a={class:"col-md-12 py-3"},s=Object(i["i"])("i",{class:"bi bi-arrow-left h1"},null,-1),o={class:"col-md-5 py-3"},u={class:"col-md-7 py-3 d-flex flex-column justify-content-between"},l={class:"h5 py-1"},d={class:"badge bg-dark rounded-pill"},b={class:"h3 py-1"},p=Object(i["i"])("div",{class:"title-line mb-3"},null,-1),m={class:"text-card-gray-text"},f={class:"d-flex align-items-center"},h={key:0,class:"me-2 badge rounded-pill bg-success"},O={key:1,class:"me-5"},j={key:2,class:"h4 text-danger"},v={class:"input-number-group input-group"},w=Object(i["i"])("i",{class:"bi bi-dash-lg"},null,-1),y=Object(i["i"])("i",{class:"bi bi-plus-lg"},null,-1),g={class:"pt-3"},P=Object(i["i"])("i",{class:"fas fa-heart fa-lg me-2"},null,-1),x=Object(i["h"])("加入收藏"),S=Object(i["i"])("i",{class:"fas fa-shopping-cart fa-lg me-2"},null,-1),k=Object(i["h"])("加入購物車"),C={class:"col-12 py-3"},I=Object(i["i"])("h3",null,[Object(i["i"])("i",{class:"fas fa-info-circle me-2"}),Object(i["h"])("產品資訊")],-1),A=Object(i["i"])("div",{class:"line-info mb-3"},null,-1),T={class:"fs-6"},D={class:"col-md-12"},q={class:"row justify-content-center py-3"},$={class:"col-md-8 col-lg-6"},V={class:"detail-display-img"};function _(e,t,r,_,M,Q){var B=Object(i["D"])("swiper-slide"),E=Object(i["D"])("swiper"),H=Object(i["E"])("lazy");return Object(i["w"])(),Object(i["e"])("div",n,[Object(i["i"])("div",c,[Object(i["i"])("div",a,[Object(i["i"])("a",{href:"#",onClick:t[1]||(t[1]=Object(i["S"])((function(){return Q.historyBack&&Q.historyBack.apply(Q,arguments)}),["prevent"]))},[s])]),Object(i["i"])("div",o,[Object(i["i"])("img",{src:M.currentProduct.imageUrl,alt:M.currentProduct.title,class:"detail-img"},null,8,["src","alt"])]),Object(i["i"])("div",u,[Object(i["i"])("p",l,[Object(i["i"])("span",d,Object(i["H"])(M.currentProduct.category),1)]),Object(i["i"])("h1",b,Object(i["H"])(M.currentProduct.title),1),p,Object(i["i"])("p",m,"型號: "+Object(i["H"])(M.currentProduct.description),1),Object(i["i"])("p",f,[M.currentProduct.origin_price!=M.currentProduct.price?(Object(i["w"])(),Object(i["e"])("span",h,"特價")):Object(i["f"])("",!0),M.currentProduct.origin_price!=M.currentProduct.price?(Object(i["w"])(),Object(i["e"])("del",O,Object(i["H"])(e.$filters.currency(M.currentProduct.origin_price)),1)):Object(i["f"])("",!0),M.currentProduct.price?(Object(i["w"])(),Object(i["e"])("span",j,Object(i["H"])(e.$filters.currency(M.currentProduct.price))+"/"+Object(i["H"])(M.currentProduct.unit),1)):Object(i["f"])("",!0)]),Object(i["i"])("div",v,[Object(i["i"])("button",{type:"button",onClick:t[2]||(t[2]=function(e){return M.currentProduct.num=Q.minusQuantity(M.currentProduct.num)}),class:"btn minus border border-2 border-dark btn-outline-dark"},[w]),Object(i["R"])(Object(i["i"])("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=function(e){return M.currentProduct.num=e}),class:"text-center input-number h-100 rounded-0",onChange:t[4]||(t[4]=function(e){return M.currentProduct.num=Q.verifyNumber(M.currentProduct.num)})},null,544),[[i["M"],M.currentProduct.num,void 0,{number:!0}]]),Object(i["i"])("button",{type:"button",onClick:t[5]||(t[5]=function(e){return M.currentProduct.num=Q.addQuantity(M.currentProduct.num)}),class:"btn add border border-2 border-dark btn-outline-dark"},[y])]),Object(i["i"])("div",g,[Object(i["i"])("button",{type:"button",onClick:t[6]||(t[6]=function(){return Q.saveFavorite&&Q.saveFavorite.apply(Q,arguments)}),class:"btn btn-outline-dark me-3"},[P,x]),Object(i["i"])("button",{type:"button",onClick:t[7]||(t[7]=function(e){return Q.addToCart(M.currentProduct)}),class:"btn btn-major"},[S,k])])]),Object(i["i"])("div",C,[I,A,Object(i["i"])("p",null,[Object(i["i"])("pre",T,Object(i["H"])(M.currentProduct.content),1)])]),Object(i["i"])("div",D,[Object(i["i"])("div",q,[Object(i["i"])("div",$,[Object(i["i"])(E,{style:{"--swiper-navigation-color":"rgba(255,255,255,0.6)"},loop:!0,spaceBetween:10,navigation:!0,thumbs:{swiper:M.thumbsSwiper},class:"swiper-product"},{default:Object(i["Q"])((function(){return[(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["B"])(M.currentProduct.imagesUrl,(function(e){return Object(i["w"])(),Object(i["e"])(i["a"],{key:e},[e?(Object(i["w"])(),Object(i["e"])(B,{key:0},{default:Object(i["Q"])((function(){return[Object(i["R"])(Object(i["i"])("img",V,null,512),[[H,e]])]})),_:2},1024)):Object(i["f"])("",!0)],64)})),128))]})),_:1},8,["style","thumbs"]),Object(i["i"])(E,{onSwiper:Q.setThumbsSwiper,spaceBetween:10,slidesPerView:5,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,class:"swiper-item py-2"},{default:Object(i["Q"])((function(){return[(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["B"])(M.currentProduct.imagesUrl,(function(e){return Object(i["w"])(),Object(i["e"])(i["a"],{key:e},[e?(Object(i["w"])(),Object(i["e"])(B,{key:0},{default:Object(i["Q"])((function(){return[Object(i["i"])("img",{src:e,class:"detail-display-imgitem"},null,8,["src"])]})),_:2},1024)):Object(i["f"])("",!0)],64)})),128))]})),_:1},8,["onSwiper"])])])])])])}var M=r("2909"),Q=r("5530"),B=(r("99af"),r("a15b"),r("6d3b")),E=r("8343"),H=r("70a4"),U=r("26ad");function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},z.apply(this,arguments)}var F={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var r=e.constructor;return t.swiper instanceof r?(e.thumbs.swiper=t.swiper,Object(H["d"])(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object(H["d"])(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):Object(H["f"])(t.swiper)&&(e.thumbs.swiper=new r(Object(H["d"])({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var r=t.clickedIndex,i=t.clickedSlide;if((!i||!Object(U["a"])(i).hasClass(e.params.thumbs.slideThumbActiveClass))&&"undefined"!==typeof r&&null!==r){var n;if(n=t.params.loop?parseInt(Object(U["a"])(t.clickedSlide).attr("data-swiper-slide-index"),10):r,e.params.loop){var c=e.activeIndex;e.slides.eq(c).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,c=e.activeIndex);var a=e.slides.eq(c).prevAll('[data-swiper-slide-index="'+n+'"]').eq(0).index(),s=e.slides.eq(c).nextAll('[data-swiper-slide-index="'+n+'"]').eq(0).index();n="undefined"===typeof a?s:"undefined"===typeof s?a:s-c<c-a?s:a}e.slideTo(n)}}},update:function(e){var t=this,r=t.thumbs.swiper;if(r){var i="auto"===r.params.slidesPerView?r.slidesPerViewDynamic():r.params.slidesPerView,n=t.params.thumbs.autoScrollOffset,c=n&&!r.params.loop;if(t.realIndex!==r.realIndex||c){var a,s,o=r.activeIndex;if(r.params.loop){r.slides.eq(o).hasClass(r.params.slideDuplicateClass)&&(r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft,o=r.activeIndex);var u=r.slides.eq(o).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),l=r.slides.eq(o).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();a="undefined"===typeof u?l:"undefined"===typeof l?u:l-o===o-u?r.params.slidesPerGroup>1?l:o:l-o<o-u?l:u,s=t.activeIndex>t.previousIndex?"next":"prev"}else a=t.realIndex,s=a>t.previousIndex?"next":"prev";c&&(a+="next"===s?n:-1*n),r.visibleSlidesIndexes&&r.visibleSlidesIndexes.indexOf(a)<0&&(r.params.centeredSlides?a=a>o?a-Math.floor(i/2)+1:a+Math.floor(i/2)-1:a>o&&r.params.slidesPerGroup,r.slideTo(a,e?0:void 0))}var d=1,b=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(d=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(d=1),d=Math.floor(d),r.slides.removeClass(b),r.params.loop||r.params.virtual&&r.params.virtual.enabled)for(var p=0;p<d;p+=1)r.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+p)+'"]').addClass(b);else for(var m=0;m<d;m+=1)r.slides.eq(t.realIndex+m).addClass(b)}}},J={name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){var e=this;Object(H["a"])(e,{thumbs:z({swiper:null,initialized:!1},F)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var r=e.thumbs.swiper;r&&r.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}},L=r("90ea"),N=r("a16a"),G=(r("5f67"),r("3be2"));B["a"].use([E["a"],J]);var R={name:"ProductDetail",components:{Swiper:L["a"],SwiperSlide:N["a"]},data:function(){return{productId:"",currentProduct:{},thumbsSwiper:null}},inject:["emitter"],methods:{addQuantity:G["a"],minusQuantity:G["e"],verifyNumber:G["f"],historyBack:function(){var e=this.$route.query,t=e.category,r=e.categoryMain;t&&r?this.$router.push("/product/".concat(r,"/").concat(t)):this.$router.go(-1)},getProductDetail:function(){var e=this,t=this,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("creativespace","/product/").concat(t.productId);t.emitter.emit("loading",!0),t.$http.get(r).then((function(r){r.data.success?(t.currentProduct=Object(Q["a"])(Object(Q["a"])({},r.data.product),{},{num:1}),t.imgs=Object(M["a"])(e.currentProduct.imagesUrl)):t.emitter.emit("push-message",{style:"danger",title:"錯誤通知",content:r.data.message,icon:"fas fa-exclamation-circle"}),t.emitter.emit("loading",!1)})).catch((function(e){t.emitter.emit("push-message",{style:"danger",title:"錯誤通知",content:e,icon:"fas fa-exclamation-circle"}),t.emitter.emit("loading",!1)}))},setThumbsSwiper:function(e){this.thumbsSwiper=e},saveFavorite:function(){var e=JSON.parse(window.localStorage.getItem("favorite"))||[],t=this.currentProduct.id;-1===e.indexOf(t)?(e.push(t),window.localStorage.setItem("favorite",JSON.stringify(e)),this.emitter.emit("push-message",{style:"success",title:"訊息通知",content:"收藏成功",icon:"fas fa-check-circle"})):this.emitter.emit("push-message",{style:"danger",title:"錯誤通知",content:"加入失敗，收藏已存在",icon:"fas fa-exclamation-circle"})},addToCart:function(e){var t=this,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("creativespace","/cart"),i={product_id:e.id,qty:e.num};t.emitter.emit("loading",!0),t.$http.post(r,{data:i}).then((function(e){e.data.success?(t.emitter.emit("push-message",{style:"success",title:"訊息通知",content:e.data.message,icon:"fas fa-check-circle"}),t.emitter.emit("getCart")):t.emitter.emit("push-message",{style:"danger",title:"錯誤通知",content:e.data.message.join("、"),icon:"fas fa-exclamation-circle"}),t.emitter.emit("loading",!1)})).catch((function(e){t.emitter.emit("push-message",{style:"danger",title:"錯誤通知",content:e,icon:"fas fa-exclamation-circle"}),t.emitter.emit("loading",!1)}))}},created:function(){this.productId=this.$route.params.id,this.emitter.emit("cartVisible",!0),this.getProductDetail()}};R.render=_;t["default"]=R},a15b:function(e,t,r){"use strict";var i=r("23e7"),n=r("44ad"),c=r("fc6a"),a=r("a640"),s=[].join,o=n!=Object,u=a("join",",");i({target:"Array",proto:!0,forced:o||!u},{join:function(e){return s.call(c(this),void 0===e?",":e)}})},d28b:function(e,t,r){var i=r("746f");i("iterator")},dbb4:function(e,t,r){var i=r("23e7"),n=r("83ab"),c=r("56ef"),a=r("fc6a"),s=r("06cf"),o=r("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,i=a(e),n=s.f,u=c(i),l={},d=0;while(u.length>d)r=n(i,t=u[d++]),void 0!==r&&o(l,t,r);return l}})},e439:function(e,t,r){var i=r("23e7"),n=r("d039"),c=r("fc6a"),a=r("06cf").f,s=r("83ab"),o=n((function(){a(1)})),u=!s||o;i({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(c(e),t)}})},fb6a:function(e,t,r){"use strict";var i=r("23e7"),n=r("861d"),c=r("e8b5"),a=r("23cb"),s=r("50c4"),o=r("fc6a"),u=r("8418"),l=r("b622"),d=r("1dde"),b=d("slice"),p=l("species"),m=[].slice,f=Math.max;i({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var r,i,l,d=o(this),b=s(d.length),h=a(e,b),O=a(void 0===t?b:t,b);if(c(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?n(r)&&(r=r[p],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(d,h,O);for(i=new(void 0===r?Array:r)(f(O-h,0)),l=0;h<O;h++,l++)h in d&&u(i,l,d[h]);return i.length=l,i}})}}]);
//# sourceMappingURL=chunk-e7f3f758.300bf1f6.js.map