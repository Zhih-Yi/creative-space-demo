(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f08e26ae"],{"0d3c":function(t,e,c){t.exports=c.p+"img/garland.882788e8.png"},"2c8d":function(t,e,c){"use strict";var i=c("7a23"),n={class:"d-flex progress list-unstyled"};function a(t,e,c,a,s,r){return Object(i["w"])(),Object(i["e"])("ul",n,[Object(i["i"])("li",{class:["progress-item",{active:1===c.step}]},"確認訂單",2),Object(i["i"])("li",{class:["progress-item",{active:2===c.step}]},"填寫資料",2),Object(i["i"])("li",{class:["progress-item",{active:3===c.step}]},"結帳付款",2)])}c("a9e3");var s={name:"CheckoutProgress",props:{step:{type:Number}}};s.render=a;e["a"]=s},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,c){var i=c("1d80"),n=c("5899"),a="["+n+"]",s=RegExp("^"+a+a+"*"),r=RegExp(a+a+"*$"),o=function(t){return function(e){var c=String(i(e));return 1&t&&(c=c.replace(s,"")),2&t&&(c=c.replace(r,"")),c}};t.exports={start:o(1),end:o(2),trim:o(3)}},7156:function(t,e,c){var i=c("861d"),n=c("d2bb");t.exports=function(t,e,c){var a,s;return n&&"function"==typeof(a=e.constructor)&&a!==c&&i(s=a.prototype)&&s!==c.prototype&&n(t,s),t}},"72ca":function(t,e,c){"use strict";var i=c("7a23"),n={class:"page-title-wrapper"},a={class:"page-title-layer py-3 px-2 px-md-5 py-md-4"},s={class:"h2"};function r(t,e,c,r,o,l){return Object(i["w"])(),Object(i["e"])("div",n,[Object(i["i"])("img",{src:c.path,alt:"標題圖片",class:"page-img"},null,8,["src"]),Object(i["i"])("div",a,[Object(i["i"])("h1",s,[Object(i["C"])(t.$slots,"default")])])])}var o={name:"PageTitle",props:["path"]};o.render=r;e["a"]=o},a9e3:function(t,e,c){"use strict";var i=c("83ab"),n=c("da84"),a=c("94ca"),s=c("6eeb"),r=c("5135"),o=c("c6b6"),l=c("7156"),u=c("c04e"),b=c("d039"),d=c("7c73"),p=c("241c").f,f=c("06cf").f,j=c("9bf2").f,O=c("58a8").trim,m="Number",h=n[m],g=h.prototype,y=o(d(g))==m,v=function(t){var e,c,i,n,a,s,r,o,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=O(l),e=l.charCodeAt(0),43===e||45===e){if(c=l.charCodeAt(2),88===c||120===c)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+l}for(a=l.slice(2),s=a.length,r=0;r<s;r++)if(o=a.charCodeAt(r),o<48||o>n)return NaN;return parseInt(a,i)}return+l};if(a(m,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var k,w=function(t){var e=arguments.length<1?0:t,c=this;return c instanceof w&&(y?b((function(){g.valueOf.call(c)})):o(c)!=m)?l(new h(v(e)),c,w):v(e)},C=i?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;C.length>x;x++)r(h,k=C[x])&&!r(w,k)&&j(w,k,f(h,k));w.prototype=g,g.constructor=w,s(n,m,w)}},b9a2:function(t,e,c){t.exports=c.p+"img/page-title10.297146de.png"},e1da:function(t,e,c){"use strict";c.r(e);var i=c("7a23"),n={class:"container"},a=Object(i["h"])("結帳-訂單確認"),s={class:"row mh-wrapper"},r={class:"col-12 py-3"},o={class:"row justify-content-center"},l={class:"col-md-8"},u={class:"row justify-content-center bg-light my-3"},b={class:"col-md-8"},d={class:"d-flex py-3 align-items-center justify-content-center"},p=Object(i["i"])("div",{class:"px-5"},[Object(i["i"])("p",{class:"h3"},"開幕歡慶"),Object(i["i"])("p",null,[Object(i["h"])("輸入代號 "),Object(i["i"])("span",{class:"text-success fw-bold"}," happybuy123 "),Object(i["h"])("即享九折優惠 ")])],-1),f={class:"row"},j={class:"col-md-12 p-3"},O=Object(i["i"])("h3",{class:"py-1"},"購物清單",-1),m=Object(i["i"])("div",{class:"line-info mb-3"},null,-1),h={key:0},g={class:"h4 mb-0"},y=Object(i["h"])("購物車沒有商品了，趕快去逛逛! "),v=Object(i["h"])("回首頁"),k={class:"col-4 col-md-2 mb-3"},w={class:"col-8 col-md-5 d-flex flex-column justify-content-between"},C={class:"h5"},x={class:"input-number-group input-group w-75"},I=Object(i["i"])("i",{class:"bi bi-dash-lg"},null,-1),N=Object(i["i"])("i",{class:"bi bi-plus-lg"},null,-1),_={class:"col-8 col-md-3"},E={class:"h5 my-1"},P=Object(i["i"])("span",{class:"d-md-none d-inline-block"},"價格:",-1),A={class:"col-4 col-md-2"},T=Object(i["i"])("i",{class:"bi bi-x-square h4"},null,-1),Q={key:1},q={key:2,class:"row"},S={class:"col-12 text-end"},$={class:"h4 py-2"},V=Object(i["i"])("span",{class:"me-3"},"總計:",-1),F={key:0,class:"h4 py-2 text-success"},M=Object(i["i"])("span",{class:"me-3"},"優惠價:",-1),R={key:3,class:"row"},U={class:"col-md-8"},B={class:"input-group"},H={key:4,class:"row"},L={class:"col-12 py-3 text-end btn-lg"},D=Object(i["i"])("span",{class:"h5"},[Object(i["h"])("下一步，填寫資料 "),Object(i["i"])("i",{class:"fas fa-feather-alt ms-2"})],-1);function G(t,e,G,J,X,Y){var z=Object(i["D"])("PageTitle"),K=Object(i["D"])("CheckoutProgress"),W=Object(i["D"])("router-link");return Object(i["w"])(),Object(i["e"])("div",n,[Object(i["i"])(z,{path:c("b9a2")},{default:Object(i["Q"])((function(){return[a]})),_:1},8,["path"]),Object(i["i"])("div",s,[Object(i["i"])("div",r,[Object(i["i"])("div",o,[Object(i["i"])("div",l,[Object(i["i"])(K,{step:1})])]),Object(i["i"])("div",u,[Object(i["i"])("div",b,[Object(i["i"])("div",d,[Object(i["i"])("img",{src:c("0d3c"),alt:"開幕歡慶",width:"100",class:"img-fluid"},null,8,["src"]),p])])]),Object(i["i"])("div",f,[Object(i["i"])("div",j,[O,m,0!==X.cart.length||t.$root.LoadingStatus?Object(i["f"])("",!0):(Object(i["w"])(),Object(i["e"])("div",h,[Object(i["i"])("p",g,[y,Object(i["i"])(W,{to:"/",class:"btn btn-outline-dark ms-3"},{default:Object(i["Q"])((function(){return[v]})),_:1})])])),(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["B"])(X.cart,(function(e){return Object(i["w"])(),Object(i["e"])("div",{class:"row py-3 align-items-center",key:e.id},[Object(i["i"])("div",k,[Object(i["i"])("img",{src:e.product.imageUrl,alt:e.product.title,class:"img-checkout"},null,8,["src","alt"])]),Object(i["i"])("div",w,[Object(i["i"])("p",C,Object(i["H"])(e.product.title),1),Object(i["i"])("div",x,[Object(i["i"])("button",{type:"button",class:"btn btn-sm minus border border-dark btn-outline-dark",disabled:X.loadingItem===e.id,onClick:function(t){e.qty=Y.minusQuantity(e.qty),Y.changeProductQty(e)}},[I],8,["disabled","onClick"]),Object(i["R"])(Object(i["i"])("input",{type:"number","onUpdate:modelValue":function(t){return e.qty=t},disabled:X.loadingItem===e.id,onChange:function(t){e.qty=Y.verifyNumber(e.qty),Y.changeProductQty(e)},class:"text-center form-control input-number h-100 rounded-0 border-dark"},null,40,["onUpdate:modelValue","disabled","onChange"]),[[i["M"],e.qty,void 0,{number:!0}]]),Object(i["i"])("button",{type:"button",class:"btn btn-sm add border border-dark btn-outline-dark",disabled:X.loadingItem===e.id,onClick:function(t){e.qty=Y.addQuantity(e.qty),Y.changeProductQty(e)}},[N],8,["disabled","onClick"])])]),Object(i["i"])("div",_,[Object(i["i"])("p",E,[P,Object(i["h"])(" "+Object(i["H"])(t.$filters.currency(e.total)),1)])]),Object(i["i"])("div",A,[Object(i["i"])("a",{href:"#",onClick:Object(i["S"])((function(t){return Y.deleteProduct(e)}),["prevent"])},[T],8,["onClick"])])])})),128)),X.cart.length>0?(Object(i["w"])(),Object(i["e"])("hr",Q)):Object(i["f"])("",!0),X.cart.length>0?(Object(i["w"])(),Object(i["e"])("div",q,[Object(i["i"])("div",S,[Object(i["i"])("p",$,[V,Object(i["h"])(Object(i["H"])(t.$filters.currency(X.total)),1)]),X.total!=X.final_total?(Object(i["w"])(),Object(i["e"])("p",F,[M,Object(i["h"])(Object(i["H"])(t.$filters.currency(X.final_total)),1)])):Object(i["f"])("",!0)])])):Object(i["f"])("",!0),X.cart.length>0?(Object(i["w"])(),Object(i["e"])("div",R,[Object(i["i"])("div",U,[Object(i["i"])("div",B,[Object(i["R"])(Object(i["i"])("input",{type:"text",name:"coupon",id:"coupon",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return X.coupon_code=t})},null,512),[[i["M"],X.coupon_code,void 0,{trim:!0}]]),Object(i["i"])("button",{class:"btn btn-major",onClick:e[2]||(e[2]=function(){return Y.useCoupon&&Y.useCoupon.apply(Y,arguments)})},"套用優惠卷")])])])):Object(i["f"])("",!0),X.cart.length>0?(Object(i["w"])(),Object(i["e"])("div",H,[Object(i["i"])("div",L,[Object(i["i"])("button",{class:"btn btn-major",type:"button",onClick:e[3]||(e[3]=function(){return Y.confirmOrder&&Y.confirmOrder.apply(Y,arguments)})},[D])])])):Object(i["f"])("",!0)])])])])])}c("99af");var J=c("72ca"),X=c("2c8d"),Y=c("3be2"),z={name:"CheckoutConfirm",components:{PageTitle:J["a"],CheckoutProgress:X["a"]},data:function(){return{cart:[],total:0,final_total:0,loadingItem:"",coupon_code:""}},methods:{getCart:Y["d"],addQuantity:Y["a"],verifyNumber:Y["f"],minusQuantity:Y["e"],changeProductQty:Y["b"],deleteProduct:Y["c"],useCoupon:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("creativespace","/coupon"),c={code:t.coupon_code};t.emitter.emit("loading",!0),t.$http.post(e,{data:c}).then((function(e){e.data.success?(t.emitter.emit("push-message",{style:"success",title:"訊息通知",content:e.data.message,icon:"fas fa-check-circle"}),t.getCart()):(t.emitter.emit("push-message",{style:"danger",title:"錯誤通知",content:e.data.message,icon:"fas fa-exclamation-circle"}),t.emitter.emit("loading",!1))})).catch((function(e){t.emitter.emit("push-message",{style:"danger",title:"錯誤通知",content:e,icon:"fas fa-exclamation-circle"}),t.emitter.emit("loading",!1)}))},confirmOrder:function(){var t=this;t.$swal({title:"確認送出?",text:"送出後即無法更改訂單內容",showCancelButton:!0,confirmButtonText:"確認送出！",cancelButtonText:"取消",icon:"info"}).then((function(e){e.isConfirmed&&t.$router.push("/checkoutInfo")}))}},created:function(){var t=this;this.emitter.emit("cartVisible",!1),this.emitter.on("getCart",(function(){t.getCart()})),this.getCart()}};z.render=G;e["default"]=z}}]);
//# sourceMappingURL=chunk-f08e26ae.87558e33.js.map