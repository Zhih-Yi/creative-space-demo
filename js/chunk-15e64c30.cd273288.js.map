{"version":3,"sources":["webpack:///./src/views/Back/OrderManage.vue","webpack:///./src/components/Back/OrderMainModal.vue","webpack:///./src/components/Back/OrderMainModal.vue?d60d","webpack:///./src/views/Back/OrderManage.vue?1e33","webpack:///./src/components/Back/BackPagination.vue","webpack:///./src/components/Back/BackPagination.vue?62b0"],"names":["class","orders","length","item","key","id","$filters","date","create_at","total","user","name","is_paid","type","openModal","openDeleteModal","pageItem","getOrders","ref","currentItem","currentOrder","updateOrder","title","modalTitle","deleteOrder","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","for","value","currency","products","disabled","product","qty","minusQuantity","changeSum","verifyNumber","addQuantity","final_total","tel","email","address","mixins","ModalMixin","props","Object","data","watch","this","methods","coupon","percent","$emit","render","components","DeleteModal","MainModal","BackPagination","page","vm","api","emitter","emit","$http","get","then","res","success","JSON","parse","stringify","pagination","style","content","message","icon","catch","err","$refs","modalMain","showModal","modalDelete","hideModal","delete","currentPage","put","join","created","has_pre","href","updatePage","Number","current_page","total_pages","has_next"],"mappings":"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","file":"js/chunk-15e64c30.cd273288.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12 py-5 text-center\">\r\n        <h1>訂單管理</h1>\r\n      </div>\r\n      <div class=\"col-12\">\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table\" v-if=\"orders.length>0\">\r\n            <thead>\r\n              <tr>\r\n                <th>編號</th>\r\n                <th>建立時間</th>\r\n                <th>總金額</th>\r\n                <th>客戶姓名</th>\r\n                <th>是否付款</th>\r\n                <th>編輯</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"item in orders\" :key=\"item.id\">\r\n                <td>{{ item.id }}</td>\r\n                <td>{{ $filters.date(item.create_at) }}</td>\r\n                <td>{{ item.total }}</td>\r\n                <td>{{ item.user.name }}</td>\r\n                <td>\r\n                  <span v-if=\"item.is_paid\" class=\"text-success\">已付款</span>\r\n                  <span v-if=\"!item.is_paid\">未付款</span>\r\n                </td>\r\n                <td>\r\n                  <button type=\"button\" class=\"btn btn-outline-primary me-2\" @click=\"openModal(item)\">\r\n                    修改\r\n                  </button>\r\n                  <button type=\"button\" class=\"btn btn-outline-dark\" @click=\"openDeleteModal(item)\">\r\n                    刪除\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12\">\r\n        <BackPagination :pageItem=\"pageItem\" @updatePage=\"getOrders\"/>\r\n      </div>\r\n    </div>\r\n    <MainModal ref=\"modalMain\" :currentItem=\"currentOrder\" @updateOrder=\"updateOrder\">\r\n      <template v-slot:title>{{ modalTitle }}</template>\r\n    </MainModal>\r\n    <DeleteModal ref=\"modalDelete\" :currentItem=\"currentOrder\" @deleteItem=\"deleteOrder\">\r\n      <template v-slot:title>{{ modalTitle }}</template>\r\n    </DeleteModal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DeleteModal from '@/components/Back/DeleteModal.vue'\r\nimport MainModal from '@/components/Back/OrderMainModal.vue'\r\nimport BackPagination from '@/components/Back/BackPagination.vue'\r\n\r\nexport default {\r\n  name: 'OrderManage',\r\n  components: {\r\n    DeleteModal,\r\n    MainModal,\r\n    BackPagination\r\n  },\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      currentOrder: {},\r\n      pageItem: {},\r\n      modalTitle: ''\r\n    }\r\n  },\r\n  methods: {\r\n    getOrders (page = 1) {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_APIPATH}/admin/orders?page=${page}`\r\n      vm.emitter.emit('loading', true)\r\n      vm.$http.get(api).then((res) => {\r\n        if (res.data.success) {\r\n          vm.orders = JSON.parse(JSON.stringify(res.data.orders))\r\n          vm.pageItem = { ...res.data.pagination }\r\n        } else {\r\n          vm.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: '錯誤通知',\r\n            content: res.data.message,\r\n            icon: 'fas fa-exclamation-circle'\r\n          })\r\n        }\r\n        vm.emitter.emit('loading', false)\r\n      }).catch((err) => {\r\n        vm.emitter.emit('push-message', {\r\n          style: 'danger',\r\n          title: '錯誤通知',\r\n          content: err,\r\n          icon: 'fas fa-exclamation-circle'\r\n        })\r\n        vm.emitter.emit('loading', false)\r\n      })\r\n    },\r\n    openModal (item) {\r\n      this.currentOrder = JSON.parse(JSON.stringify(item))\r\n      this.modalTitle = '修改訂單'\r\n      this.$refs.modalMain.showModal()\r\n    },\r\n    openDeleteModal (item) {\r\n      this.currentOrder = { ...item, title: `訂單: ${item.id}` }\r\n      this.modalTitle = '刪除訂單'\r\n      this.$refs.modalDelete.showModal()\r\n    },\r\n    deleteOrder (id) {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_APIPATH}/admin/order/${id}`\r\n      vm.emitter.emit('loading', true)\r\n      vm.$refs.modalDelete.hideModal()\r\n      vm.$http.delete(api).then((res) => {\r\n        if (res.data.success) {\r\n          vm.emitter.emit('push-message', {\r\n            style: 'success',\r\n            title: '訊息通知',\r\n            content: '訂單更新成功',\r\n            icon: 'fas fa-check-circle'\r\n          })\r\n          vm.getOrders(vm.pageItem.currentPage)\r\n        } else {\r\n          vm.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: '錯誤通知',\r\n            content: res.data.message,\r\n            icon: 'fas fa-exclamation-circle'\r\n          })\r\n        }\r\n        vm.emitter.emit('loading', false)\r\n      }).catch((err) => {\r\n        vm.emitter.emit('loading', false)\r\n        vm.emitter.emit('push-message', {\r\n          style: 'danger',\r\n          title: '錯誤通知',\r\n          content: err,\r\n          icon: 'fas fa-exclamation-circle'\r\n        })\r\n      })\r\n    },\r\n    updateOrder (item) {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_APIPATH}/admin/order/${item.id}`\r\n      vm.emitter.emit('loading', true)\r\n      vm.$refs.modalMain.hideModal()\r\n      vm.$http.put(api, { data: item }).then((res) => {\r\n        if (res.data.success) {\r\n          vm.emitter.emit('push-message', {\r\n            style: 'success',\r\n            title: '訊息通知',\r\n            content: '訂單更新成功',\r\n            icon: 'fas fa-check-circle'\r\n          })\r\n          vm.getOrders(vm.pageItem.currentPage)\r\n        } else {\r\n          vm.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: '錯誤通知',\r\n            content: res.data.message.join('、'),\r\n            icon: 'fas fa-exclamation-circle'\r\n          })\r\n        }\r\n        vm.emitter.emit('loading', false)\r\n      }).catch((err) => {\r\n        vm.emitter.emit('push-message', {\r\n          style: 'danger',\r\n          title: '錯誤通知',\r\n          content: err,\r\n          icon: 'fas fa-exclamation-circle'\r\n        })\r\n        vm.emitter.emit('loading', false)\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"modal fade\" ref=\"modal\" id=\"OrderModal\" tabindex=\"-1\"\r\n  aria-labelledby=\"OrderModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-fullscreen\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header bg-primary text-white\">\r\n          <h5 class=\"modal-title\" id=\"OrderModalLabel\">\r\n            <slot name=\"title\"></slot>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"\r\n          aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label  class=\"form-label\">訂單編號</label>\r\n              <p class=\"h5\">{{ currentOrder.id }}</p>\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"create_at\" class=\"form-label\">建立時間</label>\r\n              <input type=\"hidden\" name=\"create_at\" v-model=\"currentOrder.create_at\">\r\n              <p class=\"h5\">{{ $filters.date(currentOrder.create_at) }}</p>\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"is_paid\" class=\"form-label\">*付款狀態</label>\r\n              <select name=\"is_paid\" id=\"is_paid\" class=\"form-select\"\r\n              v-model=\"currentOrder.is_paid\">\r\n                <option value=\"true\">已付款</option>\r\n                <option value=\"false\">未付款</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"total\" class=\"form-label\">*總金額</label>\r\n              <input type=\"hidden\" id=\"total\" v-model.number=\"currentOrder.total\">\r\n              <p class=\"h5\">{{ $filters.currency(currentOrder.total)}}</p>\r\n            </div>\r\n            <div class=\"my-3 col-12\">\r\n              <label class=\"form-label\">*訂購商品</label>\r\n              <div class=\"bg-light row p-md-3\">\r\n                <template v-for=\"item in currentOrder.products\" :key=\"item.id\">\r\n                  <div class=\"col-md-5 col-sm-6 mb-2 col-12\">\r\n                    <input type=\"text\" name=\"title\" disabled v-model=\"item.product.title\"\r\n                    class=\"form-control\">\r\n                  </div>\r\n                  <div class=\"col-md-3 col-sm-3 mb-2 col-6\">\r\n                    <div class=\"input-number-group input-group\">\r\n                      <button type=\"button\" class=\"btn btn-sm minus border border-2\"\r\n                      @click=\"item.qty = minusQuantity(item.qty);changeSum(item)\">\r\n                        <i class=\"bi bi-dash-lg\"></i>\r\n                      </button>\r\n                      <input type=\"number\" v-model.number=\"item.qty\"\r\n                      @change=\"item.qty = verifyNumber(item.qty);changeSum(item)\"\r\n                      class=\"text-center form-control input-number h-100 rounded-0\">\r\n                      <button type=\"button\" class=\"btn btn-sm add border border-2\"\r\n                      @click=\"item.qty = addQuantity(item.qty);changeSum(item)\">\r\n                        <i class=\"bi bi-plus-lg\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-4 col-sm-3 mb-2 col-6\">\r\n                    <input type=\"text\" disabled name=\"final_total\" v-model=\"item.final_total\"\r\n                    class=\"form-control\">\r\n                  </div>\r\n                </template>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <label class=\"form-label\">訂購者資料</label>\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"username\" class=\"form-label\">*姓名:</label>\r\n              <input type=\"text\" name=\"username\" id=\"username\" class=\"form-control\"\r\n              v-model=\"currentOrder.user.name\">\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"tel\" class=\"form-label\">*電話:</label>\r\n              <input type=\"text\" name=\"tel\" id=\"tel\" class=\"form-control\"\r\n              v-model=\"currentOrder.user.tel\">\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"email\" class=\"form-label\">*email:</label>\r\n              <input type=\"email\" name=\"email\" id=\"email\" class=\"form-control\"\r\n              v-model=\"currentOrder.user.email\">\r\n            </div>\r\n            <div class=\"mb-3 col-6\">\r\n              <label for=\"address\" class=\"form-label\">*地址:</label>\r\n              <input type=\"text\" name=\"address\" id=\"address\" class=\"form-control\"\r\n              v-model=\"currentOrder.user.address\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-dark\" data-bs-dismiss=\"modal\">\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-primary btn-hv-style\"\r\n          @click=\"updateOrder(currentOrder)\">\r\n            儲存\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ModalMixin from '@/mixin/ModalMixin.js'\r\nimport { addQuantity, minusQuantity, verifyNumber } from '@/methods/cart.js'\r\n\r\nexport default {\r\n  name: 'OrderMainModal',\r\n  mixins: [ModalMixin],\r\n  props: {\r\n    currentItem: {\r\n      type: Object\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      currentOrder: {\r\n        user: {},\r\n        products: {}\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    currentItem () {\r\n      this.currentOrder = this.currentItem\r\n    }\r\n  },\r\n  methods: {\r\n    addQuantity,\r\n    minusQuantity,\r\n    verifyNumber,\r\n    changeSum (product) {\r\n      product.final_total = product.qty * (product.coupon.percent / 100) * product.total\r\n      this.currentOrder.total = 0\r\n      for (const item in this.currentOrder.products) {\r\n        this.currentOrder.total += this.currentOrder.products[item].final_total\r\n      }\r\n    },\r\n    updateOrder () {\r\n      this.$emit('updateOrder', this.currentOrder)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderMainModal.vue?vue&type=template&id=a55c515a\"\nimport script from \"./OrderMainModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderMainModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./OrderManage.vue?vue&type=template&id=b42e8ee6\"\nimport script from \"./OrderManage.vue?vue&type=script&lang=js\"\nexport * from \"./OrderManage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <nav aria-label=\"Page navigation\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\" :class=\"{'disabled' : !pageItem.has_pre}\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(Number(pageItem.current_page) - 1)\">&laquo;</a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"item in pageItem.total_pages\" :key=\"item\"\r\n      :class=\"{'active':pageItem.current_page===item}\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(item)\">{{ item }}</a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{'disabled' : !pageItem.has_next}\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(Number(pageItem.current_page) + 1)\">&raquo;</a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BackPagination',\r\n  props: ['pageItem'],\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('updatePage', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./BackPagination.vue?vue&type=template&id=cd6a46fa\"\nimport script from \"./BackPagination.vue?vue&type=script&lang=js\"\nexport * from \"./BackPagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}